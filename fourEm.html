<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production Monitoring Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }

        th,
        td {
            border: 1px solid black;
            padding: 5px;
            text-align: center;
            position: relative;
            font-weight: bold;
        }

        p{
            text-align: left;
            width: 50%;
        }

        input {
            width: 100%;
            box-sizing: border-box;
            border: none;
            text-align: left;
            background: transparent;
            position: relative;
            z-index: 2;
            color: #0000b0;
        }

        .diagonal-line {
            position: relative;
        }

        .diagonal-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(135deg, transparent 0%, transparent 47%, #999 47%, #999 50%, transparent 50%, transparent 100%);
            z-index: 1;
        }

        .title {
            font-weight: bold;
            background-color: #f0f0f0;
        }

        .diagInput {
            display: flex;
            flex-direction: row;
        }

        .dividend {
            top: -5px;
            left: -5px;
        }

        .divisor {
            bottom: -5px;
            right: -5px;
        }

        .wrapper {
            max-width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .cont {
            display: flex;
            flex-direction: row;
            overflow-x: scroll;
        }

        .topbar {
            height: 100px;
            width: 100%;
            background-color: #36434c;
            display: flex;
            flex-direction: row;
            align-items: center;
            flex-wrap: wrap;
            justify-content: space-between;
            padding: 1%;
        }

        input{
            font-weight: bold;
            font-size: 12.5pt;
        }

        .toRow{
            display: flex;
            flex-direction: row;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div class="topbar">
            <img height="100px" src="https://scontent.fmnl40-2.fna.fbcdn.net/v/t1.15752-9/476499148_1318331259441708_6785172567167897119_n.png?_nc_cat=108&ccb=1-7&_nc_sid=9f807c&_nc_eui2=AeGF_9VRvwcKsSK0DRCL1Y_K06FlAfcstujToWUB9yy26KNxVOqIOUcqWujX1WwudsYNHWGyhZFjTCxXGkffEHCS&_nc_ohc=yuQDD_is75YQ7kNvgHUwXRW&_nc_oc=AdjX8Yafb9npSFCfM_MDKtTtid_G3gqUPfD4w7oV_4e9RPZ-h9nC_EpYZrbbvCxbs8s&_nc_zt=23&_nc_ht=scontent.fmnl40-2.fna&oh=03_Q7cD1wGICIQFo3a3jFZ9iNc7VMfzHJyk7xhxcvsnWYUaubU7Vg&oe=67FA1641" alt="logo">
            <img height="100px" src="https://scontent.fmnl40-2.fna.fbcdn.net/v/t1.15752-9/476492444_679604567823271_4850491026355288365_n.png?_nc_cat=108&ccb=1-7&_nc_sid=9f807c&_nc_eui2=AeEj3Mv7L_QBd6U9uFKkYOpRNFIkLXt3UrM0UiQte3dSs7tVOgS9OFmuZmzPI8v-I2bJAHPlXH1ymGO_S8Wr-2G-&_nc_ohc=14xNPQ-ACNIQ7kNvgEuY7af&_nc_oc=AdiUUIROHXaqvPscmliVaAWVGmyL-l9tE9FgidyvLa-Jhc3EoUEVITx32yT_Y_AHHzo&_nc_zt=23&_nc_ht=scontent.fmnl40-2.fna&oh=03_Q7cD1wEF-v5QI1t96da12tTRsDMwDkSpovW5_JHqt0sBVYS1Kw&oe=67FA190F" alt="">
            <img width="100px" height="100px" src="https://scontent.fmnl40-1.fna.fbcdn.net/v/t1.15752-9/476496144_996343755779704_1898162260912841639_n.png?_nc_cat=102&ccb=1-7&_nc_sid=9f807c&_nc_eui2=AeEtXtTdKClsP-FpTkIzZSIolwJ2xhHk1JmXAnbGEeTUmWxxYXrsOiuAGWib-ESLaUCQOaUf2swNUne-jFVYCyr2&_nc_ohc=5f3V9n2RZTEQ7kNvgH22ILy&_nc_oc=AdjpskiBKGJU-8-lU-biytU-6pQuG9pWtzuAaTOSIAHyvVCbZXom-mckOLBGDNIVAgU&_nc_zt=23&_nc_ht=scontent.fmnl40-1.fna&oh=03_Q7cD1wHNCBu39LNu-r__UQ9M8hqDWlUO_L2ZO2S7t9AKUOTekw&oe=67FA15F9" alt="4m">
        </div>
        <div class="cont">
            <table id="monitoringTable">
                <tr>
                    <td colspan="8">
                        <div class="toRow">
                            <p>Date:&nbsp;</p><input type="date" style="font-size: 15pt;" id="dateIn"></input>
                        </div>
                    </td>
                    <td rowspan="3" colspan="3">
                        HOURLY MONITORING
                        <button id="clearButton" 
                        style="background-color: rgb(253, 129, 129);
                         margin-top: 10%;
                         font-weight: 1000;
                         ">
                            CLEAR ALL
                        </button>
                    </td>

                    <td colspan="8">
                        <div class="toRow">
                            <p>Part Number:&nbsp;</p><input type="text">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="8">
                        <div class="toRow">
                            <p>Shift:&nbsp;</p><input type="text">
                        </div>
                    </td>
                    <td colspan="8">
                        <div class="toRow">
                            <p>Production Plan:&nbsp;</p><input type="text">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="8">
                        <div class="toRow">
                            <p style="text-align: left;">Team Leader:&nbsp;</p><input type="text">
                        </div>
                    </td>
                    <td colspan="8">
                        <div class="toRow">
                            <input type="text">
                        </div>
                    </td>
                </tr>

                <tr>
                    <td rowspan="3">HR</td>
                    <td rowspan="3" colspan="2">TIME</td>
                    <td colspan="5"><input type="text"></td>
                    <td rowspan="3">ISSUES</td>
                    <td rowspan="3">HR</td>
                    <td colspan="6">PACKING</td>
                    <td rowspan="3">ISSUES</td>
                </tr>
                <tr>
                    <td rowspan="2">TARGET</td>
                    <td rowspan="2">ACTUAL</td>
                    <td rowspan="2">VARIANCE</td>
                    <td colspan="2">DOWNTIME</td>
                    <td rowspan="2">TARGET</td>
                    <td rowspan="2">VARIANCE</td>
                    <td rowspan="1" colspan="2">DOWNTIME</td>
                    <td colspan="2">QUALITY</td>
                </tr>
                <tr>
                    <td>TIME</td>
                    <td>???<input type="text"></td>
                    <td>TIME</td>
                    <td>???<input type="text"></td>
                    <td>1</td>
                    <td>2</td>
                </tr>

                <tr>
                    <td>1st</td>
                    <td>6:00</td>
                    <td>7:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>1st</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>

                <tr>
                    <td>2nd</td>
                    <td>7:00</td>
                    <td>8:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>2nd</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>

                <tr>
                    <td>3rd</td>
                    <td>8:00</td>
                    <td>9:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>3rd</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>4th</td>
                    <td>9:00</td>
                    <td>10:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>4th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>5th</td>
                    <td>10:00</td>
                    <td>11:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>5th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>6th</td>
                    <td>11:00</td>
                    <td>12:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>6th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>7th</td>
                    <td>12:00</td>
                    <td>13:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>7th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>8th</td>
                    <td>13:00</td>
                    <td>14:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>8th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>9th</td>
                    <td>14:00</td>
                    <td>15:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>9th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>10th</td>
                    <td>15:00</td>
                    <td>16:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>10th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>11th</td>
                    <td>16:00</td>
                    <td>17:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>11th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>12th</td>
                    <td>17:00</td>
                    <td>18:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>12th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>13th</td>
                    <td>18:00</td>
                    <td>19:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>13th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td>14th</td>
                    <td>19:00</td>
                    <td>20:00</td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td>14th</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                </tr>

                <tr>
                    <td rowspan="6" colspan="4" style="padding: 0px;">
                        <textarea 
                        id="notes"
                        placeholder="Enter Notes Here..."
                        style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        height: 100%;
                        width: 100%;
                        box-sizing: border-box;
                        resize: none;
                        padding: 5px;
                        color: #0000b0;
                        font-weight: 1000;
                        font-size: 15px;
                        "></textarea>
                    </td>
                    <td colspan="2">Total</td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td rowspan="6"><input type="text"></td>
                    <td colspan="2">Total</td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="3"><input type="text"></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="3"><input type="text"></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="3"><input type="text"></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="3"><input type="text"></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="3"><input type="text"></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="2"><input type="text"></td>
                    <td colspan="3"><input type="text"></td>
                </tr>
            </table>



            <!-- Bottom table for part numbers and weekly plan -->
            <table id="partNumTable">
                <tr>
                    <td class="title">PART NUMBER:</td>
                    <td class="title">PLAN</td>
                    <td class="title">MON</td>
                    <td class="title">TUE</td>
                    <td class="title">WED</td>
                    <td class="title">THU</td>
                    <td class="title">FRI</td>
                    <td class="title">SAT</td>
                    <td class="title">TOTAL</td>
                </tr>
                <!-- 8 rows for part numbers -->
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
                <tr>
                    <td><input type="text"></td>
                    <td><input type="text"></td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td class="diagonal-line">
                        <div class="diagInput"><input class="dividend" type="text"><input class="divisor" type="text">
                        </div>
                    </td>
                    <td><input type="text"></td>
                </tr>
            </table>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            setCurrDate();
            loadTable();
            updateTables();
            $("#dateIn").on("change", loadTable)
            $("#clearButton").on("click", clearTableInputs);
            enableAutoSave();
        });

        let previousDividends = {}; 
    
        function setCurrDate() {
            let today = new Date().toISOString().split("T")[0];
            $("#dateIn").val(today); 
        }

        function formatDateToMMDDYYYY(dateStr) {
            let [yyyy, mm, dd] = dateStr.split("-"); 
            return `${mm}-${dd}-${yyyy}`; 
        }

        function formatDateToYYYYMMDD(dateStr) {
            let [mm, dd, yyyy] = dateStr.split("-"); 
            return `${yyyy}-${mm}-${dd}`; 
        }

        function saveTable() {
            let dateKey = formatDateToMMDDYYYY($("#dateIn").val());
            if(!dateKey){
                return;
            }
            let monitoringData = {
                monitoringTable: getTableData("#monitoringTable"),
                partNumTable: getTableData("#partNumTable"),
                notes: $("#notes").val()
            };

            localStorage.setItem(dateKey, JSON.stringify(monitoringData));
            console.log("Data saved for date:", dateKey);
        }

        function loadTable() {
            let dateKey = formatDateToMMDDYYYY($("#dateIn").val()); 
            let savedData = localStorage.getItem(dateKey);

            if (!savedData) {
                alert("No saved data found for this date!");
                clearTableInputs();
                $("#dateIn").val(formatDateToYYYYMMDD(dateKey));
                return;
            }

            let data = JSON.parse(savedData);
            populateTableInputs("#monitoringTable", data.monitoringTable);
            populateTableInputs("#partNumTable", data.partNumTable);
            $("#notes").val(data.notes || "");

            console.log("Loaded data for date:", dateKey);
        }

        function getTableData(tableId) {
            let data = [];
            $(tableId).find("input").each(function () {
                data.push($(this).val());
            });
            return data;
        }

        function populateTableInputs(tableId, data) {
            let inputs = $(tableId).find("input");
            if (data.length !== inputs.length) {
                alert("Saved data does not match table structure!");
                return;
            }
            inputs.each(function (index) {
                $(this).val(data[index]);
            });
        }

        function enableAutoSave() {
            let tables = ["monitoringTable", "partNumTable"];
            tables.forEach(tableId => {
                let table = document.getElementById(tableId);
                let inputs = table.getElementsByTagName("input");
                for (let input of inputs) {
                    if (input.id === "dateIn") continue; 
                    input.addEventListener("change", saveTable);
                }
            });
            $("#notes").on("input", saveTable); 
        }
    
        function clearTableInputs(action) {
            let dateKey = formatDateToMMDDYYYY($("#dateIn").val()); 

            let tables = ["#monitoringTable", "#partNumTable"];
            tables.forEach(tableId => {
                $(tableId).find("input").val("");
            });
            previousDividends = {};
            $("#notes").val(""); 
            $("#dateIn").val(formatDateToYYYYMMDD(dateKey));          
        };

        function updateTables() {
            let tableId = "#monitoringTable";

            $(tableId).find("tr").each(function () {
                let cells = $(this).find("td");

                if (cells.length >= 6) { 
                    let targetCol = $(cells[3]); 
                    let actualCol = $(cells[4]); 
                    let varianceCol = $(cells[5]); 
                    let rowIndex = $(this).index();

                    if (!(rowIndex in previousDividends)) {
                        previousDividends[rowIndex] = { target: 0, actual: 0 };
                    }

                    targetCol.find("div.diagInput input.dividend").on("change", function () {
                        handleDividendChange($(this), targetCol, rowIndex, "target");
                    });

                    actualCol.find("div.diagInput input.dividend").on("change", function () {
                        handleDividendChange($(this), actualCol, rowIndex, "actual");
                    });
                }
            });
        };

        function handleDividendChange(inputElement, column, rowIndex, type) {
            let tableId = "#monitoringTable";
            let rows = $(tableId).find("tr");

            if (!(rowIndex in previousDividends)) {
                previousDividends[rowIndex] = { target: 0, actual: 0 };
            }

            let newDividend = parseFloat(inputElement.val());
            if (isNaN(newDividend)) {
                alert("Invalid input! Please enter a valid number.");
                inputElement.val(previousDividends[rowIndex][type]); 
                return;
            }

            previousDividends[rowIndex][type] = newDividend; 

            let cumulativeSum = 0;
            for (let i = 6; i < rows.length; i++) {
                let currentRow = $(rows[i]);
                let currentCol = currentRow.find("td").eq(column.index());
                let currentDividendInput = currentCol.find("input.dividend");
                let currentDivisorInput = currentCol.find("input.divisor");

                let currentDividend = parseFloat(currentDividendInput.val()) || 0;

                if (i === 6) { 
                    cumulativeSum = currentDividend;
                } else {
                    cumulativeSum += currentDividend;
                }

                currentDivisorInput.val(cumulativeSum);
            }

            recalculateAllVariances(); 
            saveTable(); 
        }


        function recalculateAllVariances() {
            let tableId = "#monitoringTable";
            let rows = $(tableId).find("tr");

            rows.each(function () {
                updateVariance($(this));
            });
        }

        function updateVariance(row) {
            let targetCol = $(row).find("td:eq(3)");
            let actualCol = $(row).find("td:eq(4)");
            let varianceCol = $(row).find("td:eq(5)");

            let targetDividend = parseFloat(targetCol.find("div.diagInput input.dividend").val()) || 0;
            let targetDivisor = parseFloat(targetCol.find("div.diagInput input.divisor").val()) || 0;
            let actualDividend = parseFloat(actualCol.find("div.diagInput input.dividend").val()) || 0;
            let actualDivisor = parseFloat(actualCol.find("div.diagInput input.divisor").val()) || 0;

            let varianceDividend = targetDividend - actualDividend;
            let varianceDivisor = targetDivisor - actualDivisor;

            varianceCol.find("input.dividend").val(varianceDividend);
            varianceCol.find("input.divisor").val(varianceDivisor);
            saveTable();
        };

    </script>
    
</body>

</html>
